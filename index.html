<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sportify - AI Sports Talent Prototype</title>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#9aa4b2; --accent:#00b894;
      --glass: rgba(255,255,255,0.03);
      --card-2: #0b1624;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box;}
    body{
      margin:0; background:linear-gradient(180deg,#071428 0%, #071a2a 100%); 
      color:#e6eef6;
      -webkit-font-smoothing:antialiased;
    }
    .container{max-width:1100px;margin:28px auto;padding:20px;}

    /* NAV */
    .nav{
      display:flex;align-items:center;justify-content:space-between;padding:12px 16px;
      border-radius:12px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      box-shadow: 0 6px 18px rgba(2,6,23,0.6);
      backdrop-filter: blur(6px);
    }
    .brand{display:flex;align-items:center;gap:12px}
    .logo{
      width:44px;height:44px;border-radius:10px;
      background:linear-gradient(135deg,var(--accent),#00a8ff);
      display:flex;align-items:center;justify-content:center;font-weight:700;color:#052023;
      box-shadow: 0 8px 18px rgba(0,0,0,0.5);
    }
    .brand h1{margin:0;font-size:18px}
    .nav-links{display:flex;gap:14px;align-items:center}
    .nav-links a{color:var(--muted);text-decoration:none;padding:8px 12px;border-radius:8px}
    .nav-links a.active, .nav-links a:hover{background:var(--glass);color:#fff}

    .cta{display:flex;gap:8px;align-items:center}
    .btn{padding:8px 12px;border-radius:10px;cursor:pointer;
      background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
    .btn.primary{
      background:linear-gradient(90deg,var(--accent),#00a8ff);
      color:#022; font-weight:600;border:none;
    }
    .small{font-size:13px;padding:6px 8px;border-radius:8px}

    /* HERO SECTION */
    .hero{
      display:grid;
      grid-template-columns:1fr 420px;
      gap:24px;margin-top:20px;align-items:center
    }
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:18px;border-radius:12px;
      box-shadow:0 6px 18px rgba(2,6,23,0.5)
    }
    h2{margin:0 0 10px 0}
    p.muted{color:var(--muted);line-height:1.45}

    /* FEATURES */
    .features{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:12px;margin-top:16px
    }
    .feat{
      display:flex;gap:12px;align-items:flex-start;
      padding:12px;border-radius:10px;
      background:linear-gradient(180deg,
      rgba(255,255,255,0.015), rgba(255,255,255,0.01))
    }
    .icon{
      width:46px;height:46px;border-radius:10px;
      background:rgba(255,255,255,0.03);
      display:flex;align-items:center;justify-content:center;font-weight:700;
      color:var(--accent)
    }

    /* MAIN LAYOUT */
    .main{display:grid;grid-template-columns: 1fr; gap:16px;margin-top:20px}
    .columns{display:grid;grid-template-columns: 1fr 360px; gap:16px}

    /* BLOCKS */
    .block{padding:12px;border-radius:10px;background:var(--card-2)}
    .row{display:flex;gap:12px;align-items:center}
    .metric{
      display:flex;flex-direction:column;
      padding:14px;border-radius:10px;
      background:linear-gradient(180deg,
      rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      min-width:120px
    }
    .metric small{color:var(--muted)}

    /* TABLE */
    table{width:100%;border-collapse:collapse;font-size:14px}
    th,td{
      padding:10px;border-bottom:1px solid rgba(255,255,255,0.03);
      text-align:left
    }
    th{color:var(--muted);font-weight:600}

    /* FORMS */
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input,select,textarea{
      width:100%;padding:8px 10px;border-radius:8px;
      background:transparent;border:1px solid rgba(255,255,255,0.04);
      color:#eaf5ff
    }
    .form-row{
      display:grid;grid-template-columns:repeat(2,1fr);gap:10px
    }

    /* MODALS */
    .modal{
      position:fixed;inset:0;background:rgba(2,6,23,0.6);
      display:none;align-items:center;justify-content:center;z-index:60
    }
    .modal.show{display:flex}
    .dialog{width:420px;background:var(--card);padding:18px;border-radius:12px}

    /* MISC */
    .muted{color:var(--muted)}
    .chip{
      padding:6px 8px;border-radius:999px;
      background:rgba(255,255,255,0.02);
      font-size:13px;color:var(--muted)
    }
    footer{
      margin-top:36px;text-align:center;color:var(--muted);
      font-size:13px;padding:18px
    }

    @media (max-width:900px){
      .hero{grid-template-columns:1fr}
      .columns{grid-template-columns:1fr}
    }


  </style>
</head>
<body>
  <div class="container">
    <!-- NAVIGATION BAR -->
    <div class="nav" id="nav">
      <div class="brand" style="gap:10px">
        <div class="logo">S</div>
        <div>
          <h1>Sporti-fy</h1>
          <div class="muted" style="font-size:12px">Discover ‚Ä¢ Track ‚Ä¢ Coach</div>
        </div>
      </div>

      <div class="nav-links" id="navLinks">
        <a href="#" data-view="home" class="active">Home</a>
        <a href="#" data-view="athlete">Athlete Dashboard</a>
        <a href="#" data-view="coach">Coach Dashboard</a>
        <a href="#" data-view="community">Community</a>
        <a href="#" data-view="about">About</a>
      </div>

      <div class="cta">
        <button class="btn primary small" id="btnLogin">Login / OTP</button>
      </div>
    </div>

    <!-- MAIN APP VIEWS -->
    <div id="appViews">

      <!-- HOME VIEW -->
      <section id="view-home" class="main">
        <div class="hero card">
          <h2>Unlock India‚Äôs Hidden Sports Talent with AI</h2>
          <p class="muted">
            Sportify helps athletes record performance, get AI-driven suggestions, and connect with coaches.
          </p>

          <div style="margin-top:12px; display:flex; gap:10px">
            <button class="btn"><a href="altsignup.html">Join as Athlete</a></button>
            <button class="btn"><a href="coachsignup.html">Join as Coach</a></button>
          </div>

          <div class="features" style="margin-top:18px">
            <div class="feat"><div class="icon">üìπ</div><div><strong>Remote Discovery</strong><div class="muted">Record tests or upload pose data</div></div></div>
            <div class="feat"><div class="icon">üìä</div><div><strong>Performance Tracking</strong><div class="muted">Progress charts and history</div></div></div>
            <div class="feat"><div class="icon">ü§ñ</div><div><strong>AI Suggestions</strong><div class="muted">Personalized advice</div></div></div>
            <div class="feat"><div class="icon">üèÖ</div><div><strong>Gamification</strong><div class="muted">Badges & motivation</div></div></div>
          </div>

          <div style="margin-top:14px" class="muted">
            Prototype note: OTP is simulated client-side for demo.
          </div>
        </div>

        <aside>
          <div class="card block">
            <h3 style="margin-top:0">Quick Demo</h3>
            <p class="muted">Sign up as athlete, add a test, and see instant AI suggestions.</p>

            <div style="margin-top:10px" class="row">
              <div class="metric"><small>Athletes</small><strong id="statAthletes">--</strong></div>
              <div class="metric"><small>Coaches</small><strong id="statCoaches">--</strong></div>
              <div class="metric"><small>Analyses</small><strong id="statAnalyses">--</strong></div>
            </div>
          </div>

          <div class="card block" style="margin-top:12px">
            <h3 style="margin-top:0">Leaderboard</h3>
            <ol id="leaderboard" style="padding-left:18px;margin-top:8px;color:var(--muted)"></ol>
          </div>
        </aside>
      </section>

      <!-- ATHLETE VIEW -->
      <section id="view-athlete" style="display:none">
        <div class="columns">

          <!-- LEFT SECTION -->
          <div>

            <div class="card block">
              <div style="display:flex; justify-content:space-between; align-items:center">
                <div class="row">
                  <div class="avatar" id="athleteAvatar">A</div>
                  <div style="margin-left:10px">
                    <div id="athleteName" style="font-weight:700">Athlete</div>
                    <div class="muted" id="athleteSport">Sport: ‚Äî</div>
                  </div>
                </div>

                <div style="text-align:right">
                  <div class="chip" id="athleteLevel">Level: ‚Äî</div>
                  <div style="font-size:12px;color:var(--muted)">Badges: <span id="athleteBadges">‚Äî</span></div>
                </div>
              </div>
            </div>

            <!-- NEW TEST FORM -->
            <div class="card block" style="margin-top:12px">
              <h3>Add New Test</h3>

              <label>100m Sprint (sec)</label>
              <input id="inpSprint" type="number" step="0.01" placeholder="e.g., 13.5"/>

              <div style="height:8px"></div>

              <label>Pushups (count)</label>
              <input id="inpPushups" type="number" placeholder="e.g., 25" />

              <div style="height:8px"></div>

              <label>Endurance (minutes)</label>
              <input id="inpEndurance" type="number" placeholder="e.g., 12" />

              <div style="height:12px"></div>

              <button class="btn primary" onclick="addTest()">Add Test & Analyze</button>
              <div id="addTestMsg" class="muted" style="margin-top:8px"></div>
            </div>

            <!-- AI SUGGESTIONS -->
            <div class="card block" style="margin-top:12px">
              <h3>AI Suggestions</h3>
              <div id="aiSuggestions" class="muted">No analyses yet</div>
            </div>

            <!-- BADGES -->
            <div class="card block" style="margin-top:12px">
              <h3>Achievements</h3>
              <div id="achievements" style="display:flex;gap:8px;flex-wrap:wrap"></div>
            </div>
          </div>

          <!-- RIGHT SECTION -->
          <aside>
            <div class="card block">
              <h3>Performance (tests)</h3>
              <canvas id="chartSprint" height="180"></canvas>
              <div style="height:12px"></div>
              <canvas id="chartPushups" height="160"></canvas>
            </div>

            <div class="card block" style="margin-top:12px">
              <h3>Contact / Book Coach</h3>
              <div id="coachList"></div>
            </div>
          </aside>

        </div>
      </section>

      <!-- COACH VIEW -->
      <section id="view-coach" style="display:none">
        <div class="card block">
          <h3>Coach Dashboard</h3>
          <div class="muted">Manage athletes, compare tests & send plans.</div>
          <div class="chip">Athletes: <span id="coachStatCount">0</span></div>
        </div>

        <div style="display:grid;grid-template-columns:1fr 420px;gap:14px;margin-top:12px">
          <div>
            <div class="card block">
              <h4>Athlete List</h4>
              <input id="coachSearch" placeholder="Search athlete..." oninput="renderAthleteTable()"/>
              <table>
                <thead>
                  <tr><th>Name</th><th>Sport</th><th>Level</th><th>Last Test</th><th>Action</th></tr>
                </thead>
                <tbody id="athleteTable"></tbody>
              </table>
            </div>

            <div class="card block" style="margin-top:12px">
              <h4>Comparison Tool</h4>
              <div class="form-row">
                <select id="compareA"></select>
                <select id="compareB"></select>
              </div>
              <button class="btn primary" onclick="compareAthletes()">Compare</button>
              <canvas id="compareChart" height="220" style="margin-top:12px"></canvas>
            </div>
          </div>

          <aside>
            <div class="card block">
              <h4>Performance Insights</h4>
              <div id="coachInsights" class="muted">Select an athlete</div>
            </div>

            <div class="card block" style="margin-top:12px">
              <h4>Message Athlete</h4>
              <div id="contactAthleteArea"></div>
            </div>
          </aside>
        </div>
      </section>

      <!-- COMMUNITY -->
      <section id="view-community" style="display:none">
        <div class="card block">
          <h3>Community</h3>
          <div style="display:flex;gap:10px;margin-top:12px;">
            <div style="flex:1" class="card block">
              <h4>Leaderboard</h4>
              <ol id="communityLeaderboard" class="muted"></ol>
            </div>
            <div style="width:320px" class="card block">
              <h4>Featured</h4>
              <div id="featuredArea" class="muted">No featured athletes</div>
            </div>
          </div>
        </div>
      </section>

      <!-- ABOUT -->
      <section id="view-about" style="display:none">
        <div class="card block">
          <h3>About Sportify</h3>
          <p class="muted">
            Sportify is a hackathon prototype for remote talent discovery & performance tracking.
          </p>
        </div>
      </section>

    </div>

    <footer>Built for HackWithHyderabad ‚Äî Prototype Demo</footer>
  </div>
  <!-- ================= CHATBOT (CLEAN VERSION) ================ -->

<!-- Chatbot Styles -->
<link rel="stylesheet" href="chatbot.css">

<!-- Chatbot Floating Button -->
<div id="chatbot-button">
    <img src="graident-ai-robot-vectorart_78370-4114.jpg" alt="bot">
</div>

<!-- Chatbot Window -->
<div id="chatbot-box">
    <div class="chatbot-header">Sporti-fy AI Assistant</div>

    <div id="chat-messages" class="chat-messages"></div>

    <div class="chat-input-area">
        <input id="chat-input" placeholder="Ask me anything...">
        <button id="chat-send">Send</button>
    </div>
</div>

<!-- Chatbot Logic Script -->
<script src="chatbot.js"></script>

<!-- ================= MAIN APPLICATION LOGIC ================= -->

<script>
/*************** Simple in-browser data store (localStorage) ***************/
const store = {
  get(k){ try{ return JSON.parse(localStorage.getItem(k)) } catch(e){ return null } },
  set(k,v){ localStorage.setItem(k, JSON.stringify(v)) }
};

// Initialize sample data
if(!store.get('users')){
  const sampleUsers = {
    athletes: [
      {id:'ath1', name:'Rahul', sport:'Athletics', phone:'+919000000001', tests:[
        {date:'2025-08-01', sprint:15.0, pushups:10, endurance:6},
        {date:'2025-08-20', sprint:14.0, pushups:15, endurance:8},
        {date:'2025-09-10', sprint:13.2, pushups:22, endurance:11}
      ], badges:['Bronze']},
      {id:'ath2', name:'Priya', sport:'Athletics', phone:'+919000000002', tests:[
        {date:'2025-07-20', sprint:14.5, pushups:20, endurance:9},
        {date:'2025-08-25', sprint:13.9, pushups:24, endurance:12}
      ], badges:['Bronze','Silver']},
      {id:'ath3', name:'Vikram', sport:'Football', phone:'+919000000003', tests:[
        {date:'2025-08-10', sprint:12.8, pushups:28, endurance:15}
      ], badges:['Silver']}
    ],
    coaches: [
      {id:'c1', name:'Anita', phone:'+919100000001', athletes:['ath1','ath2']},
      {id:'c2', name:'Suresh', phone:'+919100000002', athletes:['ath3']}
    ],
    analyses: []
  };
  store.set('users', sampleUsers);
}

let auth = store.get('auth') || null;
const users = ()=>store.get('users');

/*************** Navigation ***************/
document.querySelectorAll('#navLinks a').forEach(a=>{
  a.addEventListener('click', (e)=>{
    e.preventDefault();
    const view = a.dataset.view;
    openView(view);
    document.querySelectorAll('#navLinks a').forEach(x=>x.classList.remove('active'));
    a.classList.add('active');
  });
});

function openView(v){
  document.querySelectorAll('[id^="view-"]').forEach(s=>s.style.display='none');
  const node = document.getElementById('view-'+v);
  if(node) node.style.display='';

  if(v==='athlete') renderAthleteView();
  if(v==='coach') renderCoachView();
  if(v==='home') renderHomeStats();
  if(v==='community') renderCommunity();
}

// Initial
openView('home');

/*************** AUTH (Simulated OTP) ***************/
document.getElementById('btnLogin').addEventListener('click', ()=>openAuth());

function openAuth(){
  document.getElementById('authStep1').style.display='';
  document.getElementById('authStep2').style.display='none';
  document.getElementById('modalAuth').classList.add('show');
}
function resetAuth(){ document.getElementById('modalAuth').classList.remove('show'); }

function sendOtp(){
  const phone = document.getElementById('authPhone').value.trim();
  const role = document.getElementById('authRole').value;
  if(!phone){ alert('Enter phone number'); return; }

  const otp = String(Math.floor(1000 + Math.random()*9000));
  sessionStorage.setItem('demo_otp', otp);
  sessionStorage.setItem('demo_otp_phone', phone);
  sessionStorage.setItem('demo_otp_role', role);

  document.getElementById('authStep1').style.display='none';
  document.getElementById('authStep2').style.display='';
  document.getElementById('otpResult').innerText = 'Demo OTP: ' + otp + ' (client-side)';
}

function verifyOtp(){
  const entered = document.getElementById('authOtp').value.trim();
  const otp = sessionStorage.getItem('demo_otp');
  const phone = sessionStorage.getItem('demo_otp_phone');
  const role = sessionStorage.getItem('demo_otp_role');

  if(entered === otp){
    const storeUsers = users();
    let user;

    if(role==='athlete'){
      user = storeUsers.athletes.find(a=>a.phone===phone);
      if(!user){
        user = {id:'ath'+(Date.now()%100000), name:'New Athlete', sport:'Athletics', phone, tests:[], badges:[]};
        storeUsers.athletes.push(user);
      }
      auth = {role:'athlete', id:user.id};
    } else {
      user = storeUsers.coaches.find(c=>c.phone===phone);
      if(!user){
        user = {id:'c'+(Date.now()%100000), name:'New Coach', phone, athletes:[]};
        storeUsers.coaches.push(user);
      }
      auth = {role:'coach', id:user.id};
    }

    store.set('auth', auth);
    store.set('users', storeUsers);
    document.getElementById('modalAuth').classList.remove('show');

    alert('Logged in as ' + role);
    if(auth.role==='athlete') openView('athlete');
    else openView('coach');

  } else {
    document.getElementById('otpResult').innerText = 'Incorrect OTP. Try again.';
  }
}

/*************** HOME STATS ***************/
function renderHomeStats(){
  const s = users();
  document.getElementById('statAthletes').innerText = s.athletes.length;
  document.getElementById('statCoaches').innerText = s.coaches.length;
  document.getElementById('statAnalyses').innerText = s.analyses.length;

  const lb = [...s.athletes].map(a=>{
    const last = a.tests[a.tests.length-1];
    return {name:a.name, sprint:last?last.sprint:999};
  }).sort((x,y)=>x.sprint-y.sprint).slice(0,5);

  document.getElementById('leaderboard').innerHTML =
    lb.map(li=>`<li>${li.name} ‚Äî ${li.sprint===999?'-':li.sprint+'s'}</li>`).join('');
}

/*************** ATHLETE VIEW ***************/
function getAuthAthlete(){
  if(!auth || auth.role!=='athlete') return null;
  return users().athletes.find(a=>a.id===auth.id) || null;
}

function renderAthleteView(){
  const ath = getAuthAthlete();
  if(!ath){
    document.getElementById('athleteName').innerText = 'Not logged in!';
    return;
  }

  document.getElementById('athleteName').innerText = ath.name;
  document.getElementById('athleteSport').innerText = 'Sport: ' + ath.sport;
  document.getElementById('athleteAvatar').innerText = ath.name.charAt(0);
  document.getElementById('athleteBadges').innerText = ath.badges.join(', ') || '‚Äî';

  const latest = ath.tests[ath.tests.length-1];
  document.getElementById('athleteLevel').innerText = 'Level: ' + (levelFromTest(latest) || '-');

  document.getElementById('achievements').innerHTML =
    ath.badges.map(b=>`<div class="chip">${b}</div>`).join('');

  renderAthleteCharts(ath);

  if(latest){
    const s = aiSuggestions(latest, ath);
    document.getElementById('aiSuggestions').innerHTML =
      s.map(x=>`<div>‚Ä¢ ${x}</div>`).join('');
  } else {
    document.getElementById('aiSuggestions').innerText = 'No data yet.';
  }

  const sdata = users();
  document.getElementById('coachList').innerHTML =
    sdata.coaches.map(c=>`
      <div style="display:flex;justify-content:space-between;padding:8px 0">
        <div><strong>${c.name}</strong><div class="muted">${c.phone}</div></div>
        <button class="btn small" onclick="openContact('${c.id}','coach','${c.name}')">Message</button>
      </div>
    `).join('');
}

function addTest(){
  const sprint = parseFloat(document.getElementById('inpSprint').value);
  const pushups = parseInt(document.getElementById('inpPushups').value);
  const endurance = parseInt(document.getElementById('inpEndurance').value);

  if(!sprint || !pushups || !endurance){
    alert('Enter all fields');
    return;
  }

  const ath = getAuthAthlete();
  const test = {
    date: new Date().toISOString().split('T')[0],
    sprint, pushups, endurance
  };

  ath.tests.push(test);

  if(pushups>=30 && !ath.badges.includes('Strength')) ath.badges.push('Strength');
  if(endurance>=15 && !ath.badges.includes('Endurance')) ath.badges.push('Endurance');

  const s = users();
  s.analyses.push({athleteId:ath.id, date:test.date, level: levelFromTest(test)});
  store.set('users', s);

  document.getElementById('addTestMsg')
    .innerText = 'Analysis complete ‚Äî added test!';
  renderAthleteView();
  renderHomeStats();
}

function levelFromTest(test){
  if(!test) return null;
  const score = (20 - test.sprint)*1.2 + (test.pushups/10) + (test.endurance/4);
  if(score >= 12) return 'Advanced';
  if(score >= 8) return 'Intermediate';
  return 'Beginner';
}

function aiSuggestions(test,ath){
  const out = [];
  if(test.sprint > 14) out.push('Do interval sprints 2√ó weekly.');
  if(test.endurance < 10) out.push('Add steady runs (20‚Äì30 mins).');
  if(test.pushups < 20) out.push('Improve upper-body strength.');
  if((ath.badges||[]).length===0) out.push('Submit 3 tests to earn Bronze.');
  return out;
}

function renderAthleteCharts(ath){
  const sprintCtx = document.getElementById('chartSprint').getContext('2d');
  const pushCtx = document.getElementById('chartPushups').getContext('2d');

  const dates = ath.tests.map(t=>t.date);
  const sprints = ath.tests.map(t=>t.sprint);
  const pushups = ath.tests.map(t=>t.pushups);

  if(window._sprintChart) window._sprintChart.destroy();
  if(window._pushChart) window._pushChart.destroy();

  window._sprintChart = new Chart(sprintCtx, {
    type:'line',
    data:{labels:dates, datasets:[{label:'Sprint (s)', data:sprints, tension:0.25}]},
    options:{plugins:{legend:{display:true}}}
  });

  window._pushChart = new Chart(pushCtx, {
    type:'bar',
    data:{labels:dates, datasets:[{label:'Pushups', data:pushups}]},
    options:{plugins:{legend:{display:false}}}
  });
}

/*************** Coach View ***************/
function renderCoachView(){
  const s = users();
  document.getElementById('coachStatCount').innerText = s.athletes.length;
  renderAthleteTable();

  const selA = document.getElementById('compareA');
  const selB = document.getElementById('compareB');
  selA.innerHTML = '<option value="">Select athlete</option>' +
    s.athletes.map(a=>`<option value="${a.id}">${a.name}</option>`).join('');

  selB.innerHTML = selA.innerHTML;
}

function renderAthleteTable(){
  const s = users();
  const q = document.getElementById('coachSearch').value.toLowerCase();

  document.getElementById('athleteTable').innerHTML =
    s.athletes.filter(a=>a.name.toLowerCase().includes(q)).map(a=>{
      const last = a.tests[a.tests.length-1];
      return `
        <tr>
          <td><strong>${a.name}</strong></td>
          <td>${a.sport}</td>
          <td>${levelFromTest(last) || '-'}</td>
          <td>${last ? last.date : '-'}</td>
          <td><button class="btn small" onclick="viewAthleteDetails('${a.id}')">View</button></td>
        </tr>
      `;
    }).join('');
}

function viewAthleteDetails(id){
  const s = users();
  const a = s.athletes.find(x=>x.id===id);

  document.getElementById('coachInsights').innerHTML = `
    <div><strong>${a.name}</strong> (${a.sport})</div>
    <div class="muted">Level: ${levelFromTest(a.tests[a.tests.length-1])}</div>
  `;
}

/*************** Community ***************/
function renderCommunity(){
  const s = users();
  document.getElementById('communityLeaderboard').innerHTML =
    s.athletes.map(a=>`<li>${a.name} ‚Äî ${(a.tests[a.tests.length-1]||{}).sprint || '-'}s</li>`).join('');

  document.getElementById('featuredArea').innerText =
    s.athletes[0].name + ' ‚Äî Rising Star';
}

/*************** Keyboard shortcuts ***************/
window.addEventListener('keydown',(e)=>{
  if(e.key==='1') openView('home');
  if(e.key==='2') openView('athlete');
  if(e.key==='3') openView('coach');
});
</script>

</body>
</html>




